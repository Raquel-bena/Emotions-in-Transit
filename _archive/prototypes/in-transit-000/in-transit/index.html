<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMOTIONS (IN) TRANSIT - Data Webcam</title>
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Carga las bibliotecas locales CORRECTAS -->
    <script src="libs/p5.min.js"></script>
    <script src="libs/ml5.min.js"></script>
</head>
<body>
    <div id="app-container">
        <div id="data-overlay">
            <div class="header">
                <span class="location">Barcelona</span>
                <span class="datetime" id="current-datetime"></span>
            </div>
            <div class="data-display" id="data-display"></div>
            <div class="footer">
                <h1>EMOTIONS (IN) TRANSIT</h1>
            </div>
        </div>
        
        <div id="loading-screen">
            <div class="loading-content">
                <h2>EMOTIONS (IN) TRANSIT</h2>
                <div class="spinner"></div>
                <p id="loading-status">Inicializando sistema...</p>
            </div>
        </div>
    </div>

    <!-- Variables globales -->
    <script>
        window.OWM_KEY = '09a95abe51374eae766a284a97a3f039';
        window.OWM_CITY_ID = 3128740;
        window.TMB_APP_ID = 'daf62db0';
        window.TMB_APP_KEY = '5e4adb21bdfeda65a91e36cc2c12b7df';
        window.SC_DEVICE_ID = 16559;
    </script>
    
    <!-- Scripts en orden correcto -->
    <script src="config/secrets.js"></script>
    <script src="js/api.js"></script>
    <script src="js/app.js"></script>
    
    <script>
        function updateDateTime() {
            const now = new Date();
            document.getElementById('current-datetime').textContent = 
                `${now.toLocaleDateString()} ${now.toLocaleTimeString()}`;
        }
        
        setInterval(updateDateTime, 1000);
        updateDateTime();
        
        function updateLoadingStatus(message) {
            const statusElement = document.getElementById('loading-status');
            if (statusElement) {
                statusElement.textContent = message;
            }
        }
    </script>
</body>
</html>